# 中央和求根步骤
acc = 0.000001

def find_root(N):
    a = N / 2
    N_a = N / a
    N_a_a_2 = (N_a + a) / 2
    while abs(a-N_a_a_2) > acc:
        a = N_a_a_2
        N_a = N/a
        N_a_a_2  = (N_a + a) / 2
    return N_a_a_2

# 求10的无限小根
# 幂指数 10^s (10^s-1)/s
print(f'{"s":12s}  {"10^s":11s}  {"(_10_s-1)/s":11s}')
s = 1
_10_s = 10
ii = 1
for i in range(27):
    ii = ii * 2
    s=s/2
    _10_s = find_root(_10_s)
    _10_1_s = (_10_s-1)/s
    k = 0
    if(ii>1024):
        k = 2.3025 * s + 1
    print(f'1/{ii: 10d}  {_10_s:2.9f}  {_10_1_s:2.9f} {k:2.9f}')

"""
C:\Users\panze\AppData\Local\Programs\Python\Python37\python.exe D:/work/physics/math/root.py
s             10^s         (_10_s-1)/s
1/         2  3.162277660  4.324555320 0.000000000
1/         4  1.778279410  3.113117640 0.000000000
1/         8  1.333521432  2.668171457 0.000000000
1/        16  1.154781985  2.476511755 0.000000000
1/        32  1.074607828  2.387450506 0.000000000
1/        64  1.036632928  2.344507420 0.000000000
1/       128  1.018151722  2.323420380 0.000000000
1/       256  1.009035045  2.312971479 0.000000000
1/       512  1.004507364  2.307770498 0.000000000
1/      1024  1.002251148  2.305175852 0.000000000
1/      2048  1.001124941  2.303879987 1.001124268
1/      4096  1.000562313  2.303232419 1.000562134
1/      8192  1.000281117  2.302908726 1.000281067
1/     16384  1.000140549  2.302746902 1.000140533
1/     32768  1.000070272  2.302665996 1.000070267
1/     65536  1.000035135  2.302625544 1.000035133
1/    131072  1.000017567  2.302605319 1.000017567
1/    262144  1.000008784  2.302595206 1.000008783
1/    524288  1.000004392  2.302590150 1.000004392
1/   1048576  1.000002196  2.302587623 1.000002196
1/   2097152  1.000001098  2.302586362 1.000001098
1/   4194304  1.000000549  2.302585734 1.000000549
1/   8388608  1.000000274  2.302585427 1.000000274
1/  16777216  1.000000137  2.302585289 1.000000137
1/  33554432  1.000000069  2.302585244 1.000000069
1/  67108864  1.000000034  2.302585274 1.000000034
1/ 134217728  1.000000017  2.302585393 1.000000017

进程已结束,退出代码0

"""
